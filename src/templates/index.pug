doctype html
html(lang="ru")
    head
        meta(charset="UTF-8")
        meta(name="viewport", content="width=device-width, initial-scale=1.0")
        title –ú–∞—Ç—Ä–∏—Ü–∞ –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–π
        link(rel="stylesheet", href="styles.css")
    body
        h1 –ú–∞—Ç—Ä–∏—Ü–∞ –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–π —Å—Ç—É–¥–µ–Ω—Ç–∞-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ (–≤–µ—Ä—Å–∏—è #{matrix.version})
        .table-container
            table
                thead
                    tr
                        th –ö–∞—Ç–µ–≥–æ—Ä–∏—è
                        th –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –Ω–∞–≤—ã–∫
                        th –¢–∏–ø –Ω–∞–≤—ã–∫–∞
                tbody
                    each category in matrix.categories
                        - let firstRow = true
                        each subcategory, subIndex in category.subcategories
                            - let subcatNum = subIndex + 1
                            if subIndex > 0
                                tr.subcategory-row(data-category-key=category.key, class=`subcat-${category.key}${subcatNum}`)
                                    td(colspan="3").subcategory-header= subcategory.name
                            each skill, skillIndex in subcategory.skills
                                tr(data-category-key=category.key)
                                    if firstRow && skillIndex === 0 && subIndex === 0
                                        td(rowspan= category.subcategories.reduce((acc, sub) => acc + sub.skills.length, 0) + (category.subcategories.length - 1), data-category-key=category.key, class=`cat-${category.key}`)= category.name
                                    td(class=`${skill.type}-${category.key}${subcatNum}`)= skill.description
                                    td(class=`${skill.type}-${category.key}${subcatNum}`)
                                        span.skill-type= skill.type === 'hard' ? '–•–∞—Ä–¥' : '–°–æ—Ñ—Ç'
                                - firstRow = false

        .note
            strong üé® –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞:
            | –ö–∞—Ç–µ–≥–æ—Ä–∏—è ‚Äî –±–∞–∑–æ–≤—ã–π —Ü–≤–µ—Ç, –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è ‚Äî –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Å–¥–≤–∏–≥, –Ω–∞–≤—ã–∫–∏ ‚Äî –æ—Ç—Ç–µ–Ω–∫–∏ —Å —É–∑–æ—Ä–æ–º –¥–ª—è soft. –ü—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—é –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç—Å—è –≤—Å—è –≥—Ä—É–ø–ø–∞.

        .color-legend
            h3 –õ–µ–≥–µ–Ω–¥–∞ —Ü–≤–µ—Ç–æ–≤
            table
                thead
                    tr
                        th –ö–∞—Ç–µ–≥–æ—Ä–∏—è
                        th –ë–∞–∑–æ–≤—ã–π —Ü–≤–µ—Ç
                        th Hard-—Å–∫–∏–ª–ª (–ø—Ä–∏–º–µ—Ä)
                        th Soft-—Å–∫–∏–ª–ª (–ø—Ä–∏–º–µ—Ä)
                tbody
                    each category in matrix.categories
                        - let exampleNum = 1
                        tr
                            td= category.name
                            td: span.color-sample(class=`cat-${category.key}`)
                            td: span.color-sample(class=`hard-${category.key}${exampleNum}`)
                            td: span.color-sample(class=`soft-${category.key}${exampleNum}`)