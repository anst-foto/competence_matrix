{
	"$schema": "http://json-schema.org/draft-07/schema#",
	"$id": "https://example.com/competence-matrix-fgos.schema.json",
	"title": "Competency Matrix with FGOS Links",
	"description": "Schema for a competency matrix of a software developer with links to FGOS competencies",
	"type": "object",
	"required": ["version", "categories"],
	"additionalProperties": false,
	"properties": {
		"version": {
			"type": "string",
			"description": "Version of the matrix format",
			"pattern": "^\\d+\\.\\d+$"
		},
		"categories": {
			"type": "array",
			"description": "List of main categories",
			"items": {
				"type": "object",
				"required": ["name", "key", "subcategories"],
				"additionalProperties": false,
				"properties": {
					"name": {
						"type": "string",
						"description": "Display name of the category"
					},
					"key": {
						"type": "string",
						"description": "Unique key for the category (used for styling and referencing)",
						"pattern": "^[a-z0-9-]+$"
					},
					"subcategories": {
						"type": "array",
						"description": "List of subcategories within this category",
						"items": {
							"type": "object",
							"required": ["name", "skills"],
							"additionalProperties": false,
							"properties": {
								"name": {
									"type": "string",
									"description": "Display name of the subcategory"
								},
								"skills": {
									"type": "array",
									"description": "List of skills in this subcategory",
									"items": {
										"type": "object",
										"required": ["description", "type", "fgos_codes"],
										"additionalProperties": false,
										"properties": {
											"description": {
												"type": "string",
												"description": "Description of the skill"
											},
											"type": {
												"type": "string",
												"description": "Type of skill: hard or soft",
												"enum": ["hard", "soft"]
											},
											"fgos_codes": {
												"type": "array",
												"description": "List of FGOS competency codes associated with this skill",
												"items": {
													"type": "string",
													"pattern": "^(ОК|ПК) \\d+(\\.\\d+)?$",
													"description": "FGOS competency code (e.g., 'ОК 01', 'ПК 1.2')"
												},
												"minItems": 1,
												"uniqueItems": true
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
}
